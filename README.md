# BungaaGPT_Bot
## Описание
Python Telegram-бот для ChatGPT.  
- Поддерживаются сохранение контекста беседы и сброс для создания новой.
- Кастомная настройка максимального количества сообщений в беседе.
- Использование ChatGPT без VPN.
- На данный момент только текстовые сообщения.
## Использование
При первом использовании нажать кнопку START или набрать команду `/start`.  
Для общения с ботом достаточно написать сообщение и вам ответит ChatGPT.  
Начать новую беседу с ботом возможно при помощи меню под вводом сообщения или командой `Очистить историю`.  
Принудительно вызвать меню можно командами: `меню`, `menu`, `/start`.  
## Установка и настройка
1. Клонировать или скачать репозиторий на сервер/компьютер.
2. Создать виртуальное окружение (при необходимости).
3. Выполнить команду `pip install -r requirements.txt`.
4. Получить API ключ для своего бота в телеграме (получить можно у бота в телеграме BotFather).
5. Добавить API ключ TG бота в системные переменные окружения.
   - В Windows добавляется через окно системных переменных окружения.
   - В Ubuntu необходимо редактировать файл /etc/environment. sudo nano /etc/environment и добавить строку `НАЗВАНИЕ_ПЕРЕМЕННОЙ="ВАШ_API_КЛЮЧ"`. После этого необходимо сделать перезагрузку системы.
6. Если вы изменили название переменной, то его также необходимо изменить в файле main.py в функции `os.getenv('НАЗВАНИЕ_ПЕРЕМЕННОЙ')`.
7. При необходимости можно выставить кастомное максимальное количество сообщений в одной беседе. Для этого в файле openai_api.py необходимо изменить константу `CONVERSATION_MES_LIMIT`. Значение выставляется x2. Пример: хочу максимальное кол-во сообщений - 10. Значит надо выставить 20, поскольку ответы бота тоже считаются за сообщения.
8. Запустить main.py
## Использованные библиотеки
- [g4f](https://github.com/xtekky/gpt4free)
- [aiogram 3](https://aiogram.dev)
- [nest_asyncio](https://pypi.org/project/nest-asyncio/)
